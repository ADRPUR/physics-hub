type NestedTranslations = {
  [key: string]: string | NestedTranslations;
};

export type Language = "ro" | "en";

export const translations: Record<Language, NestedTranslations> = {
  ro: {
    common: {
      languageName: "Română",
      languageSelector: "Limba",
      platformTitle: "Platformă educațională",
      actions: {
        save: "Salvează",
        cancel: "Anulează",
        delete: "Șterge",
        edit: "Editează",
        add: "Adaugă",
        publish: "Publică",
        login: "Autentificare",
        register: "Înregistrare",
        logout: "Deconectare",
        back: "Înapoi",
      },
      status: {
        active: "Activ",
        pending: "În așteptare",
        disabled: "Suspendat",
      },
      roles: {
        ADMIN: "Admin",
        TEACHER: "Profesor",
        STUDENT: "Elev",
      },
      visibility: {
        PUBLIC: "Public",
        STUDENT: "Student",
        TEACHER: "Profesor",
        ADMIN: "Admin",
      },
      navigationTypes: {
        LINK: "Link",
        PAGE: "Pagină",
        SECTION: "Secțiune",
      },
      table: {
        noData: "Nu există elemente.",
      },
    },
    layout: {
      home: "Acasă",
      overview: "Panou",
      profile: "Profil",
      studio: "Studio",
      users: "Utilizatori",
      resources: "Resurse",
      sidebar: "Sidebar",
      profileMenu: {
        profile: "Profil",
        logout: "Deconectare",
      },
    },
    login: {
      title: "Autentificare",
      email: "Email",
      password: "Parolă",
      submit: "Autentifică-te",
      registerPrompt: "Nu ai cont?",
      registerLink: "Creează unul",
      success: "Autentificare reușită.",
    },
    register: {
      title: "Creează cont",
      firstName: "Prenume",
      lastName: "Nume",
      confirmPassword: "Confirmă parola",
      birthDate: "Data nașterii",
      phone: "Telefon",
      school: "Școală",
      grade: "Clasă",
      submit: "Înregistrare",
      loginPrompt: "Ai deja cont?",
      loginLink: "Autentifică-te",
      passwordMismatch: "Parolele nu coincid.",
    },
    home: {
      search: "Caută lecții sau resurse",
      searchAction: "Caută",
      sidebarTitle: "Navigație site",
      noNavigation: "Structura este în curs de configurare.",
      hero: {
        title: "Physics Hub — materiale moderne pentru liceu",
        subtitle: "Resurse actualizate pentru elevi, profesori și pasionați de științe.",
        primaryCta: "Înregistrează-te",
        secondaryCta: "Autentificare",
        teaser: "Curricula digitală",
        description: "Organizăm conținutul Fizica MD într-o platformă nouă, gata pentru lecții, examene și studiu individual.",
      },
      features: {
        curriculum: "Curriculum actualizat",
        curriculumDesc: "Lecții și capitole structurate pe clase și niveluri.",
        resources: "Resurse multimedia",
        resourcesDesc: "Fișiere, clipuri video și galerii cu explicații detaliate.",
        community: "Comunitate activă",
        communityDesc: "Profesori și elevi conectați prin grupuri și anunțuri.",
      },
      sections: {
        featured: "Categorie recomandată",
        resources: "resurse",
        view: "Vezi detalii",
        spotlights: "Secțiuni recomandate",
        structure: "Structura site-ului",
        library: "Resurse publicate",
      },
      resourcesSection: {
        title: "Resurse recomandate",
        subtitle: "Ultimele materiale adăugate de profesori.",
      },
      loadError: "Nu am putut încărca secțiunile recomandate.",
    },
    resources: {
      listTitle: "Resurse publicate",
      categoryFilter: "Categorie",
      allCategories: "Toate categoriile",
      empty: "Nu există resurse publicate pentru filtrul selectat.",
      publishedBy: "Publicat de",
      publishedOn: "la data de:",
      tags: "Etichete",
      viewDetails: "Vezi detalii",
      downloadPdf: "Descarcă PDF",
      latest: "Resurse recente",
      notFound: "Resursa nu este disponibilă.",
      backToHome: "Înapoi la homepage",
      backToList: "Înapoi la resurse",
    },
    overview: {
      welcome: "Bine ai revenit",
      activeRole: "Rol activ",
      lastLogin: "Ultima autentificare",
      shortCuts: "Pași rapizi",
      fillProfile: "Completează profilul",
      fillProfileDesc: "Adaugă date personale și avatar.",
      configureMenu: "Configurează meniul",
      configureMenuDesc: "Gestionează structura site-ului și vizibilitatea.",
      viewGroups: "Accesează grupurile tale",
      viewGroupsDesc: "Vezi lecții sau evenimente pentru clasa ta.",
      metrics: {
        title: "Panou performanță server",
        live: "Live",
        paused: "Pauză",
        jvmMemory: "Memorie JVM",
        systemRam: "RAM sistem",
        cpuUsage: "Utilizare CPU",
        diskUsage: "Stocare",
        load: "Load",
        process: "Proces",
        historyHeap: "Istoric memorie JVM",
        historyRam: "Istoric RAM",
        historyCpu: "Istoric CPU",
        historyDisk: "Istoric stocare",
      },
    },
    profile: {
      title: "Profilul meu",
      avatarUpdated: "Avatar actualizat.",
      avatarError: "Nu am putut procesa imaginea. Încearcă din nou.",
      avatarCardTitle: "Avatar",
      avatarCardSubtitle: "Imaginea folosită în platformă",
      changeAvatar: "Schimbă avatarul",
      accountCardTitle: "Cont",
      accountCardSubtitle: "Detalii generale",
      deleteAccount: "Șterge contul",
      deleteConfirm: "Sigur vrei să ștergi contul? Această acțiune este permanentă.",
      deleteError: "Nu am putut șterge contul.",
      personalDataTitle: "Date personale",
      personalDataSubtitle: "Aceste informații sunt vizibile profesorilor și administratorilor.",
      labels: {
        email: "Email",
        role: "Rol principal",
        status: "Statut",
        firstName: "Prenume",
        lastName: "Nume",
        birthDate: "Data nașterii",
        gender: "Gen",
        phone: "Telefon",
        school: "Școală",
        grade: "Clasa",
        bio: "Despre mine",
      },
      gender: {
        unspecified: "Nespecificat",
        female: "Femeie",
        male: "Bărbat",
        other: "Altul",
      },
      saveSuccess: "Profil actualizat cu succes.",
      saveError: "Actualizarea a eșuat. Încearcă din nou.",
      loadError: "Nu am reușit să încarc profilul.",
      avatarDialogTitle: "Ajustează avatarul",
      zoomLabel: "Zoom",
    },
    adminUsers: {
      title: "Administrare utilizatori",
      searchPlaceholder: "Caută după nume sau email",
      addUser: "Utilizator nou",
      columns: {
        user: "Utilizator",
        role: "Rol principal",
        status: "Statut",
        online: "Online",
        school: "Școală",
        grade: "Clasă",
      },
      dialog: {
        addTitle: "Adaugă utilizator",
        editTitle: "Editează utilizator",
        tempPassword: "Parolă temporară",
        phone: "Telefon",
        school: "Școală",
        grade: "Clasă",
        status: "Statut",
      },
      deleteConfirm: "Ești sigur că vrei să ștergi utilizatorul?",
      saveSuccess: "Utilizator salvat cu succes.",
      saveError: "Nu am putut salva utilizatorul.",
      deleteSuccess: "Utilizator șters.",
      deleteError: "Nu am putut șterge utilizatorul.",
      onlineStatus: {
        online: "Online",
        offline: "Offline",
      },
    },
    adminResources: {
      title: "Administrare resurse",
      searchPlaceholder: "Caută după titlu, autor sau tag",
      addResource: "Resursă nouă",
      refresh: "Actualizează lista",
      deleteTitle: "Șterge resursa",
      deleteConfirm: "Confirmi ștergerea resursei",
      columns: {
        title: "Titlu",
        category: "Categorie",
        status: "Statut",
        author: "Autor",
        publishedAt: "Publicată la",
      },
    },
    adminNavigation: {
      title: "Configurare sidebar",
      addTitle: "Adaugă element",
      existingTitle: "Elemente existente",
      fields: {
        title: "Titlu",
        slug: "Slug",
        slugHelp: "ex: lectii-bac",
        externalLink: "Link extern (opțional)",
        type: "Tip",
        visibility: "Vizibilitate",
        order: "Ordine",
        icon: "Icon (MUI)",
      },
      addButton: "Adaugă în meniu",
    },
    teacher: {
      title: "Studio Profesor",
      createArticle: "Creează un articol",
      createEvent: "Creează un eveniment",
      createResource: "Publică o resursă",
      resourceFields: {
        category: "Categorie",
        subcategory: "Subcategorie",
        title: "Titlu",
        summary: "Descriere scurtă",
        tags: "Tag-uri",
        tagsHelp: "Tastează un tag și apasă Enter",
        avatar: "Imagine reprezentativă",
        blocks: "Blocuri de conținut",
      },
      blocks: {
        addText: "Adaugă bloc de text",
        addLink: "Adaugă link",
        addImage: "Adaugă imagine",
        addPdf: "Adaugă PDF",
        addFormula: "Adaugă formulă",
        empty: "Adaugă cel puțin un bloc de conținut.",
        formulaHint: "Folosește câmpul de mai sus pentru a introduce formula în format LaTeX.",
      },
      publishResource: "Publică resursa",
      saveDraft: "Salvează draft",
      updateResource: "Actualizează resursa",
      editingResource: "Editezi o resursă existentă.",
      deleteResourceConfirm: "Sigur vrei să ștergi această resursă?",
      resourceSaveSuccessDraft: "Resursă salvată ca draft.",
      resourceSaveSuccessPublished: "Resursă publicată.",
      resourceSaveSuccessUpdated: "Resursă actualizată.",
      resourceSaveError: "Nu am putut salva resursa.",
      statusLabels: {
        draft: "Draft",
        published: "Publicată",
      },
      sidebarManager: {
        addCategory: "Categorie nouă",
        addCategoryTitle: "Adaugă categorie",
        editCategoryTitle: "Editează categoria",
        groupDialogTitle: "Editează grupul",
        deleteConfirm: "Sigur vrei să ștergi această categorie?",
        deleteBlocked: "Nu poți șterge categoria deoarece există resurse asociate.",
        saveError: "Nu am putut salva modificările.",
        saveSuccess: "Modificările au fost salvate.",
        saveOrder: "Salvează ordinea",
        fields: {
          label: "Nume categorie",
          group: "Grup",
          sortOrder: "Ordine în grup",
          groupOrder: "Ordine grup",
        },
      },
      articleFields: {
        title: "Titlu",
        summary: "Rezumat",
        body: "Conținut",
        tags: "Tag-uri (separate prin virgulă)",
        visibility: "Vizibilitate",
      },
      eventFields: {
        name: "Nume",
        description: "Descriere",
        location: "Locație",
        start: "Data începerii",
        end: "Data finalizării",
      },
      publishArticle: "Publică articol",
      publishEvent: "Publică eveniment",
      recentArticles: "Articole recente",
      upcomingEvents: "Evenimente programate",
      emptyArticles: "Nu există articole încă.",
      emptyEvents: "Nu există evenimente.",
    },
    authErrors: {
      server: "Server indisponibil",
      unknown: "Eroare necunoscută",
      registrationFailed: "Înregistrarea a eșuat",
      sessionExpired: "Sesiunea ta a expirat. Te rugăm să te autentifici din nou.",
      invalidCredentials: "Email sau parolă greșite.",
    },
    search: {
      title: "Caută în Physics Hub",
      subtitle: "Găsește lecții, colecții sau linkuri utile folosind titlul sau slug-ul.",
      input: "Termen de căutare",
      loading: "Se încarcă rezultatele…",
      noResults: "Nu am găsit rezultate pentru căutarea ta.",
      start: "Introdu un termen pentru a începe căutarea.",
      error: "Nu am putut încărca rezultatele. Încearcă din nou.",
    },
    footer: {
      visitors: "Vizitatori:",
      dedication: "Dedicat tuturor pasionatilor de fizica, creat cu suflet de",
    },
  },
  en: {
    common: {
      languageName: "English",
      languageSelector: "Language",
      platformTitle: "Learning platform",
      actions: {
        save: "Save",
        cancel: "Cancel",
        delete: "Delete",
        edit: "Edit",
        add: "Add",
        publish: "Publish",
        login: "Sign in",
        register: "Register",
        logout: "Logout",
        back: "Back",
      },
      status: {
        active: "Active",
        pending: "Pending",
        disabled: "Disabled",
      },
      roles: {
        ADMIN: "Admin",
        TEACHER: "Teacher",
        STUDENT: "Student",
      },
      visibility: {
        PUBLIC: "Public",
        STUDENT: "Student",
        TEACHER: "Teacher",
        ADMIN: "Admin",
      },
      navigationTypes: {
        LINK: "Link",
        PAGE: "Page",
        SECTION: "Section",
      },
      table: {
        noData: "No entries yet.",
      },
    },
    layout: {
      home: "Home",
      overview: "Overview",
      profile: "Profile",
      studio: "Studio",
      users: "Users",
      resources: "Resources",
      sidebar: "Sidebar",
      profileMenu: {
        profile: "Profile",
        logout: "Logout",
      },
    },
    login: {
      title: "Sign in",
      email: "Email",
      password: "Password",
      submit: "Sign in",
      registerPrompt: "Don't have an account?",
      registerLink: "Create one",
      success: "Signed in successfully.",
    },
    register: {
      title: "Create account",
      firstName: "First name",
      lastName: "Last name",
      confirmPassword: "Confirm password",
      birthDate: "Birth date",
      phone: "Phone",
      school: "School",
      grade: "Class",
      submit: "Register",
      loginPrompt: "Already have an account?",
      loginLink: "Sign in",
      passwordMismatch: "Passwords do not match.",
    },
    home: {
      search: "Search lessons or resources",
      searchAction: "Search",
      sidebarTitle: "Site navigation",
      noNavigation: "Navigation will appear once configured.",
      hero: {
        title: "Physics Hub — modern learning hub",
        subtitle: "Fresh materials for students, teachers, and science enthusiasts.",
        primaryCta: "Get started",
        secondaryCta: "Sign in",
        teaser: "Digital curriculum",
        description: "We are rebuilding Fizica MD into a modern portal ready for lessons, exams, and self-study.",
      },
      features: {
        curriculum: "Updated curriculum",
        curriculumDesc: "Topics organized by grade level and exam routes.",
        resources: "Rich resources",
        resourcesDesc: "Videos, PDFs, and galleries with guided explanations.",
        community: "Active community",
        communityDesc: "Teachers and students collaborating through groups and announcements.",
      },
      sections: {
        featured: "Featured categories",
        resources: "resources",
        view: "View section",
        spotlights: "Recommended sections",
        structure: "Navigation preview",
        library: "Published resources",
      },
      resourcesSection: {
        title: "Featured resources",
        subtitle: "Latest materials shared by teachers.",
      },
      loadError: "Could not load homepage highlights.",
    },
    resources: {
      listTitle: "Published resources",
      categoryFilter: "Category",
      allCategories: "All categories",
      empty: "No resources match the current filter.",
      publishedBy: "Published by",
      publishedOn: "on",
      tags: "Tags",
      viewDetails: "View details",
      downloadPdf: "Download PDF",
      latest: "Latest resources",
      notFound: "This resource is not available.",
      backToHome: "Back to homepage",
      backToList: "Back to resources",
    },
    overview: {
      welcome: "Welcome back",
      activeRole: "Active role",
      lastLogin: "Last login",
      shortCuts: "Quick actions",
      fillProfile: "Complete your profile",
      fillProfileDesc: "Add personal details and an avatar.",
      configureMenu: "Configure the menu",
      configureMenuDesc: "Manage site structure and visibility.",
      viewGroups: "Access your groups",
      viewGroupsDesc: "Browse classes or events for your group.",
      metrics: {
        title: "Server performance",
        live: "Live",
        paused: "Paused",
        jvmMemory: "JVM memory",
        systemRam: "System RAM",
        cpuUsage: "CPU usage",
        diskUsage: "Storage",
        load: "Load",
        process: "Process",
        historyHeap: "JVM memory history",
        historyRam: "RAM history",
        historyCpu: "CPU history",
        historyDisk: "Storage history",
      },
    },
    profile: {
      title: "My profile",
      avatarUpdated: "Avatar updated.",
      avatarError: "Could not process the image. Try again.",
      avatarCardTitle: "Avatar",
      avatarCardSubtitle: "Displayed across the platform",
      changeAvatar: "Change avatar",
      accountCardTitle: "Account",
      accountCardSubtitle: "General details",
      deleteAccount: "Delete account",
      deleteConfirm: "Are you sure? This action cannot be undone.",
      deleteError: "Could not delete the account.",
      personalDataTitle: "Personal information",
      personalDataSubtitle: "Visible to teachers and administrators.",
      labels: {
        email: "Email",
        role: "Primary role",
        status: "Status",
        firstName: "First name",
        lastName: "Last name",
        birthDate: "Birth date",
        gender: "Gender",
        phone: "Phone",
        school: "School",
        grade: "Class",
        bio: "About me",
      },
      gender: {
        unspecified: "Unspecified",
        female: "Female",
        male: "Male",
        other: "Other",
      },
      saveSuccess: "Profile updated successfully.",
      saveError: "Update failed. Try again.",
      loadError: "Could not load the profile.",
      avatarDialogTitle: "Adjust avatar",
      zoomLabel: "Zoom",
    },
    adminUsers: {
      title: "User management",
      searchPlaceholder: "Search by name or email",
      addUser: "New user",
      columns: {
        user: "User",
        role: "Primary role",
        status: "Status",
        online: "Online",
        school: "School",
        grade: "Class",
      },
      dialog: {
        addTitle: "Add user",
        editTitle: "Edit user",
        tempPassword: "Temporary password",
        phone: "Phone",
        school: "School",
        grade: "Class",
        status: "Status",
      },
      deleteConfirm: "Are you sure you want to remove this user?",
      saveSuccess: "User saved successfully.",
      saveError: "Could not save the user.",
      deleteSuccess: "User deleted.",
      deleteError: "Could not delete the user.",
      onlineStatus: {
        online: "Online",
        offline: "Offline",
      },
    },
    adminResources: {
      title: "Resource management",
      searchPlaceholder: "Search by title, author or tag",
      addResource: "New resource",
      refresh: "Refresh list",
      deleteTitle: "Delete resource",
      deleteConfirm: "Are you sure you want to delete the resource",
      columns: {
        title: "Title",
        category: "Category",
        status: "Status",
        author: "Author",
        publishedAt: "Published at",
      },
    },
    adminNavigation: {
      title: "Sidebar configuration",
      addTitle: "Add entry",
      existingTitle: "Existing entries",
      fields: {
        title: "Title",
        slug: "Slug",
        slugHelp: "e.g. lessons-bac",
        externalLink: "External link (optional)",
        type: "Type",
        visibility: "Visibility",
        order: "Order",
        icon: "Icon (MUI)",
      },
      addButton: "Add to menu",
    },
    teacher: {
      title: "Teacher studio",
      createArticle: "Create article",
      createEvent: "Create event",
      createResource: "Publish a resource",
      resourceFields: {
        category: "Category",
        subcategory: "Subcategory",
        title: "Title",
        summary: "Short description",
        tags: "Tags",
        tagsHelp: "Type a tag and press Enter",
        avatar: "Cover image",
        blocks: "Content blocks",
      },
      blocks: {
        addText: "Add text block",
        addLink: "Add link",
        addImage: "Add image",
        addPdf: "Add PDF",
        addFormula: "Add formula",
        empty: "Add at least one content block.",
        formulaHint: "Enter the formula above using LaTeX syntax.",
      },
      articleFields: {
        title: "Title",
        summary: "Summary",
        body: "Content",
        tags: "Tags (comma separated)",
        visibility: "Visibility",
      },
      eventFields: {
        name: "Name",
        description: "Description",
        location: "Location",
        start: "Starts at",
        end: "Ends at",
      },
      publishArticle: "Publish article",
      publishEvent: "Publish event",
      publishResource: "Publish resource",
      saveDraft: "Save draft",
      updateResource: "Update resource",
      editingResource: "You are editing an existing resource.",
      deleteResourceConfirm: "Are you sure you want to delete this resource?",
      resourceSaveSuccessDraft: "Resource saved as draft.",
      resourceSaveSuccessPublished: "Resource published.",
      resourceSaveSuccessUpdated: "Resource updated.",
      resourceSaveError: "Could not save the resource.",
      statusLabels: {
        draft: "Draft",
        published: "Published",
      },
      sidebarManager: {
        addCategory: "New category",
        addCategoryTitle: "Add category",
        editCategoryTitle: "Edit category",
        groupDialogTitle: "Edit group",
        deleteConfirm: "Are you sure you want to delete this category?",
        deleteBlocked: "You cannot delete this category because resources reference it.",
        saveError: "Changes could not be saved.",
        saveSuccess: "Changes saved.",
        saveOrder: "Save order",
        fields: {
          label: "Category name",
          group: "Group",
          sortOrder: "Order in group",
          groupOrder: "Group order",
        },
      },
      recentArticles: "Recent articles",
      upcomingEvents: "Scheduled events",
      emptyArticles: "No articles yet.",
      emptyEvents: "No events.",
    },
    authErrors: {
      server: "Server unavailable",
      unknown: "Unknown error",
      registrationFailed: "Registration failed",
      sessionExpired: "Your session has expired. Please sign in again.",
      invalidCredentials: "Invalid email or password.",
    },
    search: {
      title: "Search Physics Hub",
      subtitle: "Find lessons, archives or useful links by title or slug.",
      input: "Search term",
      loading: "Loading results…",
      noResults: "No results for your search.",
      start: "Enter a term to start searching.",
      error: "Could not load results. Please try again.",
    },
    footer: {
      visitors: "Visitors:",
      dedication: "Dedicated to all physics enthusiasts, created with heart by",
    },
  },
};

export function translate(lang: Language, key: string): string {
  const segments = key.split(".");
  let current: any = translations[lang];
  for (const segment of segments) {
    if (current && typeof current === "object" && segment in current) {
      current = current[segment];
    } else {
      current = null;
      break;
    }
  }
  if (typeof current === "string") {
    return current;
  }
  // fallback to Romanian, then key
  if (lang !== "ro") {
    return translate("ro", key);
  }
  return key;
}
