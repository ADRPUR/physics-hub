type NestedTranslations = {
  [key: string]: string | NestedTranslations;
};

export type Language = "ro" | "en";

export const translations: Record<Language, NestedTranslations> = {
  ro: {
    common: {
      languageName: "Română",
      languageSelector: "Limba",
      platformTitle: "Platformă educațională",
      actions: {
        save: "Salvează",
        cancel: "Anulează",
        delete: "Șterge",
        edit: "Editează",
        add: "Adaugă",
        publish: "Publică",
        login: "Autentificare",
        register: "Înregistrare",
        logout: "Deconectare",
      },
      status: {
        active: "Activ",
        pending: "În așteptare",
        disabled: "Suspendat",
      },
      roles: {
        ADMIN: "Admin",
        TEACHER: "Profesor",
        STUDENT: "Elev",
      },
      visibility: {
        PUBLIC: "Public",
        STUDENT: "Student",
        TEACHER: "Profesor",
        ADMIN: "Admin",
      },
      navigationTypes: {
        LINK: "Link",
        PAGE: "Pagină",
        SECTION: "Secțiune",
      },
      table: {
        noData: "Nu există elemente.",
      },
    },
    layout: {
      home: "Acasă",
      overview: "Panou",
      profile: "Profil",
      studio: "Studio",
      users: "Utilizatori",
      sidebar: "Sidebar",
      profileMenu: {
        profile: "Profil",
        logout: "Deconectare",
      },
    },
    login: {
      title: "Autentificare",
      email: "Email",
      password: "Parolă",
      submit: "Autentifică-te",
      registerPrompt: "Nu ai cont?",
      registerLink: "Creează unul",
    },
    register: {
      title: "Creează cont",
      firstName: "Prenume",
      lastName: "Nume",
      confirmPassword: "Confirmă parola",
      birthDate: "Data nașterii",
      phone: "Telefon",
      school: "Școală",
      grade: "Clasă",
      submit: "Înregistrare",
      loginPrompt: "Ai deja cont?",
      loginLink: "Autentifică-te",
      passwordMismatch: "Parolele nu coincid.",
    },
    home: {
      search: "Caută lecții sau resurse",
      searchAction: "Caută",
      sidebarTitle: "Navigație site",
      noNavigation: "Structura este în curs de configurare.",
      hero: {
        title: "Physics Hub — materiale moderne pentru liceu",
        subtitle: "Resurse actualizate pentru elevi, profesori și pasionați de științe.",
        primaryCta: "Înregistrează-te",
        secondaryCta: "Autentificare",
        teaser: "Curricula digitală",
        description: "Organizăm conținutul Fizica MD într-o platformă nouă, gata pentru lecții, examene și studiu individual.",
      },
      features: {
        curriculum: "Curriculum actualizat",
        curriculumDesc: "Lecții și capitole structurate pe clase și niveluri.",
        resources: "Resurse multimedia",
        resourcesDesc: "Fișiere, clipuri video și galerii cu explicații detaliate.",
        community: "Comunitate activă",
        communityDesc: "Profesori și elevi conectați prin grupuri și anunțuri.",
      },
      sections: {
        featured: "Categorie recomandată",
        resources: "resurse",
        view: "Vezi detalii",
        spotlights: "Secțiuni recomandate",
        structure: "Structura site-ului",
      },
      loadError: "Nu am putut încărca secțiunile recomandate.",
    },
    overview: {
      welcome: "Bine ai revenit",
      activeRole: "Rol activ",
      lastLogin: "Ultima autentificare",
      shortCuts: "Pași rapizi",
      fillProfile: "Completează profilul",
      fillProfileDesc: "Adaugă date personale și avatar.",
      configureMenu: "Configurează meniul",
      configureMenuDesc: "Gestionează structura site-ului și vizibilitatea.",
      viewGroups: "Accesează grupurile tale",
      viewGroupsDesc: "Vezi lecții sau evenimente pentru clasa ta.",
    },
    profile: {
      title: "Profilul meu",
      avatarUpdated: "Avatar actualizat.",
      avatarError: "Nu am putut procesa imaginea. Încearcă din nou.",
      avatarCardTitle: "Avatar",
      avatarCardSubtitle: "Imaginea folosită în platformă",
      changeAvatar: "Schimbă avatarul",
      accountCardTitle: "Cont",
      accountCardSubtitle: "Detalii generale",
      deleteAccount: "Șterge contul",
      deleteConfirm: "Sigur vrei să ștergi contul? Această acțiune este permanentă.",
      deleteError: "Nu am putut șterge contul.",
      personalDataTitle: "Date personale",
      personalDataSubtitle: "Aceste informații sunt vizibile profesorilor și administratorilor.",
      labels: {
        email: "Email",
        role: "Rol principal",
        status: "Statut",
        firstName: "Prenume",
        lastName: "Nume",
        birthDate: "Data nașterii",
        phone: "Telefon",
        school: "Școală",
        grade: "Clasa",
        locale: "Limbă preferată",
        timezone: "Fus orar",
        bio: "Despre mine",
      },
      saveSuccess: "Profil actualizat cu succes.",
      saveError: "Actualizarea a eșuat. Încearcă din nou.",
      loadError: "Nu am reușit să încarc profilul.",
      avatarDialogTitle: "Ajustează avatarul",
      zoomLabel: "Zoom",
    },
    adminUsers: {
      title: "Administrare utilizatori",
      searchPlaceholder: "Caută după nume sau email",
      addUser: "Utilizator nou",
      columns: {
        user: "Utilizator",
        role: "Rol principal",
        status: "Statut",
        school: "Școală",
        grade: "Clasă",
      },
      dialog: {
        addTitle: "Adaugă utilizator",
        editTitle: "Editează utilizator",
        tempPassword: "Parolă temporară",
        phone: "Telefon",
        school: "Școală",
        grade: "Clasă",
        status: "Statut",
      },
      deleteConfirm: "Ești sigur că vrei să ștergi utilizatorul?",
    },
    adminNavigation: {
      title: "Configurare sidebar",
      addTitle: "Adaugă element",
      existingTitle: "Elemente existente",
      fields: {
        title: "Titlu",
        slug: "Slug",
        slugHelp: "ex: lectii-bac",
        externalLink: "Link extern (opțional)",
        type: "Tip",
        visibility: "Vizibilitate",
        order: "Ordine",
        icon: "Icon (MUI)",
      },
      addButton: "Adaugă în meniu",
    },
    teacher: {
      title: "Studio Profesor",
      createArticle: "Creează un articol",
      createEvent: "Creează un eveniment",
      articleFields: {
        title: "Titlu",
        summary: "Rezumat",
        body: "Conținut",
        tags: "Tag-uri (separate prin virgulă)",
        visibility: "Vizibilitate",
      },
      eventFields: {
        name: "Nume",
        description: "Descriere",
        location: "Locație",
        start: "Data începerii",
        end: "Data finalizării",
      },
      publishArticle: "Publică articol",
      publishEvent: "Publică eveniment",
      recentArticles: "Articole recente",
      upcomingEvents: "Evenimente programate",
      emptyArticles: "Nu există articole încă.",
      emptyEvents: "Nu există evenimente.",
    },
    authErrors: {
      server: "Server indisponibil",
      unknown: "Eroare necunoscută",
      registrationFailed: "Înregistrarea a eșuat",
    },
    search: {
      title: "Caută în Physics Hub",
      subtitle: "Găsește lecții, colecții sau linkuri utile folosind titlul sau slug-ul.",
      input: "Termen de căutare",
      loading: "Se încarcă rezultatele…",
      noResults: "Nu am găsit rezultate pentru căutarea ta.",
      start: "Introdu un termen pentru a începe căutarea.",
      error: "Nu am putut încărca rezultatele. Încearcă din nou.",
    },
  },
  en: {
    common: {
      languageName: "English",
      languageSelector: "Language",
      platformTitle: "Learning platform",
      actions: {
        save: "Save",
        cancel: "Cancel",
        delete: "Delete",
        edit: "Edit",
        add: "Add",
        publish: "Publish",
        login: "Sign in",
        register: "Register",
        logout: "Logout",
      },
      status: {
        active: "Active",
        pending: "Pending",
        disabled: "Disabled",
      },
      roles: {
        ADMIN: "Admin",
        TEACHER: "Teacher",
        STUDENT: "Student",
      },
      visibility: {
        PUBLIC: "Public",
        STUDENT: "Student",
        TEACHER: "Teacher",
        ADMIN: "Admin",
      },
      navigationTypes: {
        LINK: "Link",
        PAGE: "Page",
        SECTION: "Section",
      },
      table: {
        noData: "No entries yet.",
      },
    },
    layout: {
      home: "Home",
      overview: "Overview",
      profile: "Profile",
      studio: "Studio",
      users: "Users",
      sidebar: "Sidebar",
      profileMenu: {
        profile: "Profile",
        logout: "Logout",
      },
    },
    login: {
      title: "Sign in",
      email: "Email",
      password: "Password",
      submit: "Sign in",
      registerPrompt: "Don't have an account?",
      registerLink: "Create one",
    },
    register: {
      title: "Create account",
      firstName: "First name",
      lastName: "Last name",
      confirmPassword: "Confirm password",
      birthDate: "Birth date",
      phone: "Phone",
      school: "School",
      grade: "Class",
      submit: "Register",
      loginPrompt: "Already have an account?",
      loginLink: "Sign in",
      passwordMismatch: "Passwords do not match.",
    },
    home: {
      search: "Search lessons or resources",
      searchAction: "Search",
      sidebarTitle: "Site navigation",
      noNavigation: "Navigation will appear once configured.",
      hero: {
        title: "Physics Hub — modern learning hub",
        subtitle: "Fresh materials for students, teachers, and science enthusiasts.",
        primaryCta: "Get started",
        secondaryCta: "Sign in",
        teaser: "Digital curriculum",
        description: "We are rebuilding Fizica MD into a modern portal ready for lessons, exams, and self-study.",
      },
      features: {
        curriculum: "Updated curriculum",
        curriculumDesc: "Topics organized by grade level and exam routes.",
        resources: "Rich resources",
        resourcesDesc: "Videos, PDFs, and galleries with guided explanations.",
        community: "Active community",
        communityDesc: "Teachers and students collaborating through groups and announcements.",
      },
      sections: {
        featured: "Featured categories",
        resources: "resources",
        view: "View section",
        spotlights: "Recommended sections",
        structure: "Navigation preview",
      },
      loadError: "Could not load homepage highlights.",
    },
    overview: {
      welcome: "Welcome back",
      activeRole: "Active role",
      lastLogin: "Last login",
      shortCuts: "Quick actions",
      fillProfile: "Complete your profile",
      fillProfileDesc: "Add personal details and an avatar.",
      configureMenu: "Configure the menu",
      configureMenuDesc: "Manage site structure and visibility.",
      viewGroups: "Access your groups",
      viewGroupsDesc: "Browse classes or events for your group.",
    },
    profile: {
      title: "My profile",
      avatarUpdated: "Avatar updated.",
      avatarError: "Could not process the image. Try again.",
      avatarCardTitle: "Avatar",
      avatarCardSubtitle: "Displayed across the platform",
      changeAvatar: "Change avatar",
      accountCardTitle: "Account",
      accountCardSubtitle: "General details",
      deleteAccount: "Delete account",
      deleteConfirm: "Are you sure? This action cannot be undone.",
      deleteError: "Could not delete the account.",
      personalDataTitle: "Personal information",
      personalDataSubtitle: "Visible to teachers and administrators.",
      labels: {
        email: "Email",
        role: "Primary role",
        status: "Status",
        firstName: "First name",
        lastName: "Last name",
        birthDate: "Birth date",
        phone: "Phone",
        school: "School",
        grade: "Class",
        locale: "Preferred language",
        timezone: "Time zone",
        bio: "About me",
      },
      saveSuccess: "Profile updated successfully.",
      saveError: "Update failed. Try again.",
      loadError: "Could not load the profile.",
      avatarDialogTitle: "Adjust avatar",
      zoomLabel: "Zoom",
    },
    adminUsers: {
      title: "User management",
      searchPlaceholder: "Search by name or email",
      addUser: "New user",
      columns: {
        user: "User",
        role: "Primary role",
        status: "Status",
        school: "School",
        grade: "Class",
      },
      dialog: {
        addTitle: "Add user",
        editTitle: "Edit user",
        tempPassword: "Temporary password",
        phone: "Phone",
        school: "School",
        grade: "Class",
        status: "Status",
      },
      deleteConfirm: "Are you sure you want to remove this user?",
    },
    adminNavigation: {
      title: "Sidebar configuration",
      addTitle: "Add entry",
      existingTitle: "Existing entries",
      fields: {
        title: "Title",
        slug: "Slug",
        slugHelp: "e.g. lessons-bac",
        externalLink: "External link (optional)",
        type: "Type",
        visibility: "Visibility",
        order: "Order",
        icon: "Icon (MUI)",
      },
      addButton: "Add to menu",
    },
    teacher: {
      title: "Teacher studio",
      createArticle: "Create article",
      createEvent: "Create event",
      articleFields: {
        title: "Title",
        summary: "Summary",
        body: "Content",
        tags: "Tags (comma separated)",
        visibility: "Visibility",
      },
      eventFields: {
        name: "Name",
        description: "Description",
        location: "Location",
        start: "Starts at",
        end: "Ends at",
      },
      publishArticle: "Publish article",
      publishEvent: "Publish event",
      recentArticles: "Recent articles",
      upcomingEvents: "Scheduled events",
      emptyArticles: "No articles yet.",
      emptyEvents: "No events.",
    },
    authErrors: {
      server: "Server unavailable",
      unknown: "Unknown error",
      registrationFailed: "Registration failed",
    },
    search: {
      title: "Search Physics Hub",
      subtitle: "Find lessons, archives or useful links by title or slug.",
      input: "Search term",
      loading: "Loading results…",
      noResults: "No results for your search.",
      start: "Enter a term to start searching.",
      error: "Could not load results. Please try again.",
    },
  },
};

export function translate(lang: Language, key: string): string {
  const segments = key.split(".");
  let current: any = translations[lang];
  for (const segment of segments) {
    if (current && typeof current === "object" && segment in current) {
      current = current[segment];
    } else {
      current = null;
      break;
    }
  }
  if (typeof current === "string") {
    return current;
  }
  // fallback to Romanian, then key
  if (lang !== "ro") {
    return translate("ro", key);
  }
  return key;
}
